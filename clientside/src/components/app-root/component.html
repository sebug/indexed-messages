<!-- ko if: !key() || !postKey() || showParameters() -->
<key-edit params="key: key, partition: partition, postKey: postKey"></key-edit>
<!-- /ko -->

<!-- ko if: key() && postKey() -->
<!-- ko ifnot: showParameters -->
<p class="parameter-toggle">Paramètres pris en compte, <button data-bind="click: function() { showParameters(true); }">changer</button></p>
<!-- /ko -->
<!-- ko if: showParameters -->
<p class="parameter-toggle"><button data-bind="click: function() { showParameters(false); }">Cacher les paramètres</button></p>
<!-- /ko -->
<!-- /ko -->

<!-- ko if: postKey -->
<insert-errors params="key: postKey, addInsertionErrorCallback: addInsertionErrorCallback, partition: partition, addGetFailedMessagesCallback: addGetFailedMessagesCallback"></insert-errors>
<!-- /ko -->

<!-- ko if: key -->
<message-list params="key: key, registerMessagePostedListener: registerMessagePostedListener, partition: partition, addGetAllMessagesCallback: addGetAllMessagesCallback"></message-list>
<!-- /ko -->

<!-- ko if: postKey -->
<message-edit params="key: postKey, successCallback: messagePostedCallback, partition: partition"></message-edit>
<!-- /ko -->
